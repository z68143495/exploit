/**
 * Copyright &copy; 2012-2016 <a href="https://github.com/thinkgem/jeesite">JeeSite</a> All rights reserved.
 */
package com.jinyao.exploit.common.base;

import com.baomidou.mybatisplus.annotation.TableField;
import com.baomidou.mybatisplus.annotation.TableName;
import com.jinyao.exploit.common.base.entity.DataEntity;
import lombok.Data;

import javax.validation.constraints.NotBlank;
import java.util.Date;

/**
 * 用户Entity
 * @author ThinkGem
 * @version 2013-12-05
 */
@Data
@TableName(value = "sys_user")
public class BaseUser<T> extends DataEntity<T> {

	public static final String LOGIN_FLAG_YES = "1";
	public static final String LOGIN_FLAG_NOT= "0";

	@NotBlank(message = "登录名不能为空")
	private String loginName;// 登录名
	@NotBlank(message = "密码不能为空")
	private String password;// 密码

	private String userType;// 用户类型
	private String loginIp;	// 最后登陆IP
	private Date loginDate;	// 最后登陆日期
	private String loginFlag;	// 是否允许登陆

	@TableField(exist = false)
	private String oldLoginName;// 原登录名
	@TableField(exist = false)
	private String newPassword;	// 新密码
	@TableField(exist = false)
	private String oldLoginIp;	// 上次登陆IP
	@TableField(exist = false)
	private Date oldLoginDate;	// 上次登陆日期
	
	public BaseUser() {
		super();
		this.loginFlag = Global.YES;
	}
	
	public BaseUser(long id){
		super(id);
	}

	public BaseUser(long id, String loginName){
		super(id);
		this.loginName = loginName;
	}

	public BaseUser(String loginName){
		super();
		this.loginName = loginName;
	}

	public boolean isAdmin(){
		return isAdmin(this.id);
	}
	
	public static boolean isAdmin(long id){
		return id == 1;
	}
	
}