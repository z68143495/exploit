package com.jinyao.exploit.common.base.entity;

import com.jinyao.exploit.common.enums.ResponseCode;
import com.jinyao.exploit.common.utils.StringUtils;
import lombok.Data;

/***********************************************************************
 * 文件说明：应用项目返回类型
 * 创建信息：李晋 2019/01/18 10:51
 * 变更履历： 
 ***********************************************************************/
@Data
public class BaseResult {

    private String code;   // 状态码
    private Object data;    // 数据
    private String msg; // 信息
    private String error;   // 系统返回的错误详情

    public BaseResult() {
    }

    /**
     * 只有数据，默认成功返回
     * @param data  数据
     * @return
     */
    public static BaseResult result(Object data){
        return result(ResponseCode.CODE_200, data);
    }

    /**
     * 不带数据和额外信息返回
     * @param responseCode  响应编码枚举
     * @return
     */
    public static BaseResult result(ResponseCode responseCode){
        return result(responseCode, null, null);
    }

    /**
     * 带数据返回
     * @param responseCode  响应编码枚举
     * @param data  数据
     * @return
     */
    public static BaseResult result(ResponseCode responseCode, Object data){
        return result(responseCode, data, null);
    }

    /**
     * 带额外信息返回
     * @param responseCode  响应编码枚举
     * @param msg  额外信息
     * @return
     */
    public static BaseResult result(ResponseCode responseCode, String msg){
        return result(responseCode, null, msg);
    }

    /**
     * 增、删、改时的返回
     * @param changeResult  对数据的更改结果（增、删、改）
     * @return
     */
    public static BaseResult result(Boolean changeResult){
        return result(changeResult ? ResponseCode.CODE_200 : ResponseCode.CODE_500);
    }

    /**
     * 返回
     * @param responseCode  响应编码枚举
     * @param data  数据
     * @param msg  额外信息
     * @return
     */
    public static BaseResult result(ResponseCode responseCode, Object data, String msg){
        BaseResult baseResult = new BaseResult();
        baseResult.setCode(responseCode.getCode());
        baseResult.setMsg(StringUtils.isNotBlank(msg) ? responseCode.getMsg() + msg : responseCode.getMsg());
        baseResult.setData(data);
        return baseResult;
    }
}
