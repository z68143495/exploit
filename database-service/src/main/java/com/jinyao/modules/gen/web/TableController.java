package com.jinyao.modules.gen.web;

import com.jinyao.model.gen.Table;
import com.jinyao.modules.gen.dao.ITableDao;
import com.jinyao.modules.gen.service.ITableService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.*;

import java.util.List;

/***********************************************************************
 * 文件说明：自动生成母表controller
 * 创建信息：李晋 2018-10-9 15:34
 * 变更履历： 
 ***********************************************************************/
@Controller
@ResponseBody
@RequestMapping(value = "${dataPath}/gen/table")
public class TableController {


  @Autowired
  private ITableDao tableService;

  @GetMapping(value = "get")
  public Table get(@RequestParam(value = "id") String id){
    return tableService.get(id);
  }

  @PostMapping(value = "get")
  public Table get(@RequestBody Table table){
    return tableService.get(table);
  }

  @GetMapping(value = "listGet")
  public List<Table> listGet(Table table){
    List<Table> tableList = tableService.findList(table);
    return tableList;
  }

  @PostMapping(value = {"list", ""})
  public List<Table> list(@RequestBody Table table){
    List<Table> tableList = tableService.findList(table);
    return tableList;
  }

  @PostMapping(value = "save")
  public void save(@RequestBody Table table){
    tableService.save(table);
  }

  @PostMapping(value = "delete")
  public void delete(String id){
    tableService.delete(id);
  }
}
