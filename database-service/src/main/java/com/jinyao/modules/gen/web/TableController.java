package com.jinyao.modules.gen.web;

import com.jinyao.model.gen.Table;
import com.jinyao.modules.gen.dao.ITableDao;
import com.jinyao.modules.gen.service.ITableService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import java.util.List;

/***********************************************************************
 * 文件说明：自动生成母表controller
 * 创建信息：李晋 2018-10-9 15:34
 * 变更履历： 
 ***********************************************************************/
@Controller
@ResponseBody
@RequestMapping(value = "${dataPath}/gen/table")
public class TableController {


  @Autowired
  private ITableDao tableService;

  @GetMapping(value = "get")
  public Table get(String id){
    return tableService.get(id);
  }

  @PostMapping(value = "get")
  public Table get(Table table){
    return tableService.get(table);
  }

  @PostMapping(value = {"list", ""})
  public List<Table> list(Table table){
    List<Table> tableList = tableService.findList(table);
    return tableList;
  }

  @PostMapping(value = "save")
  public void save(Table table){
    table.setTableName("1");
    table.setClassName("1");
    tableService.save(table);
  }

  @PostMapping(value = "delete")
  public void delete(String id){
    tableService.delete(id);
  }
}
