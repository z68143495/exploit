package com.zr.modules.sys.web;

import com.zr.model.sys.User;
import com.zr.modules.sys.service.IUserService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import com.zr.entity.BaseResult;

import java.util.List;

/***********************************************************************
 * 文件说明：用户表（sys_user）数据层控制器
 * 创建信息：李晋 2019-01-18 14-51-57
 * 变更履历： 
 ***********************************************************************/
@RestController
@RequestMapping(value = "${dataPath}/sys/user")
public class UserController {

    @Autowired
    private IUserService userService;
    
    @GetMapping(value = "get")
    public BaseResult get(@RequestParam(value = "id") String id){
      return new BaseResult(userService.get(id));
    }
    
    @PostMapping(value = "get")
    public BaseResult get(@RequestBody User user){
      return new BaseResult(userService.get(user));
    }
    
    @PostMapping(value = {"list", ""})
    public BaseResult list(@RequestBody User user){
      List<User> userList = userService.findList(user);
      return new BaseResult(userList);
    }
    
    @PostMapping(value = "save")
    public BaseResult save(@RequestBody User user){
      userService.save(user);
      return new BaseResult();
    }
    
    @PostMapping(value = "delete")
    public BaseResult delete(String id){
      userService.delete(id);
      return new BaseResult();
    }

    @PostMapping(value = "batchDelete")
    public BaseResult batchDelete(@RequestBody List<String> idList){
        userService.batchDelete(idList);
        return new BaseResult();
    }
    
}