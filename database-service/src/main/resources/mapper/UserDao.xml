<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jinyao.exploit.modules.sys.dao.UserDao">

  <sql id="baseColumn">
    a.id,
    a.name,
    a.password,
    a.login_name,
    a.create_by AS "createBy.id",
    a.create_date,
    a.update_by AS "updateBy.id",
    a.update_date,
    a.remarks,
    a.is_delete
  </sql>

  <select id="get" resultType="User">
    SELECT
    <include refid="baseColumn"></include>
    FROM sys_user a
    WHERE is_delete = false and (a.id = #{id} or a.login_name = #{id})
  </select>
  <!--<select id="findList" resultType="Table">-->
    <!--SELECT-->
    <!--<include refid="baseColumn"></include>-->
    <!--FROM gen_table a-->
    <!--WHERE is_delete = false-->
  <!--</select>-->
  <!--<select id="findAllList" resultType="Table">-->
    <!--SELECT-->
    <!--<include refid="baseColumn"></include>-->
    <!--FROM gen_table a-->
    <!--WHERE is_delete = false-->
  <!--</select>-->
  <!--<insert id="insert">-->
    <!--INSERT INTO gen_table(-->
			<!--id,-->
      <!--table_name,-->
      <!--class_name,-->
			<!--create_by,-->
			<!--create_date,-->
			<!--update_by,-->
			<!--update_date,-->
			<!--is_delete,-->
			<!--remarks-->
		<!--) VALUES (-->
			<!--#{id},-->
      <!--#{tableName},-->
      <!--#{className},-->
			<!--#{createBy.id},-->
			<!--#{createDate},-->
			<!--#{updateBy.id},-->
			<!--#{updateDate},-->
			<!--#{isDelete},-->
			<!--#{remarks}-->
		<!--)-->
  <!--</insert>-->
  <!--<update id="update">-->
    <!--UPDATE gen_table SET-->
			<!--update_by = #{updateBy.id},-->
			<!--update_date = #{updateDate},-->
			<!--remarks = #{remarks}-->
		<!--WHERE id = #{id}-->
  <!--</update>-->
  <!--<update id="delete">-->
    <!--UPDATE gen_table SET-->
			<!--is_delete = TRUE ,-->
		<!--WHERE id = #{id}-->
  <!--</update>-->
</mapper>