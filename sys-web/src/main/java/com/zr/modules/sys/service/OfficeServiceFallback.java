package com.zr.modules.sys.service;

import com.zr.entity.BaseResult;
import com.zr.model.sys.Office;
import com.zr.modules.sys.dao.IOfficeDao;
import feign.FeignException;
import feign.hystrix.FallbackFactory;
import org.springframework.stereotype.Component;

import java.util.List;

/***********************************************************************
 * 文件说明：单位表（sys_office）熔断器
 * 创建信息：李晋 2019-01-18 14-53-26
 * 变更履历： 
 ***********************************************************************/
@Component
public class OfficeServiceFallback implements FallbackFactory<IOfficeDao>{

    @Override
    public IOfficeDao create(Throwable throwable) {
        return new IOfficeDao() {
            private int statusCode = ((FeignException) throwable).status();
            @Override
            public BaseResult findByParentIdsLike(Office entity) {
                return new BaseResult(statusCode);
            }

            @Override
            public BaseResult updateParentIds(Office entity) {
                return new BaseResult(statusCode);
            }

            @Override
            public BaseResult get(String id) {
                return new BaseResult(statusCode);
            }

            @Override
            public BaseResult get(Office office) {
                return new BaseResult(statusCode);
            }

            @Override
            public BaseResult list(Office office) {
                return new BaseResult(statusCode);
            }

            @Override
            public BaseResult save(Office office) {
                return new BaseResult(statusCode);
            }

            @Override
            public BaseResult delete(String id) {
                return new BaseResult(statusCode);
            }

            @Override
            public BaseResult batchDelete(List<String> idList) {
                return new BaseResult(statusCode);
            }
        };
    }
}